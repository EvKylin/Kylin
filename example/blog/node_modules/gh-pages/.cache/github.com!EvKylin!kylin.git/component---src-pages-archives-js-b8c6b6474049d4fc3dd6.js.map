{"version":3,"sources":["webpack:///component---src-pages-archives-js-b8c6b6474049d4fc3dd6.js","webpack:///./src/pages/archives.js"],"names":["webpackJsonp","209","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","query","undefined","_react","_react2","_gatsbyLink","_gatsbyLink2","ArchivesPage","_ref","data","console","log","edges","allMarkdownRemark","years","Array","from","Set","map","_ref2","node","frontmatter","date","split","nextData","year","filter","_ref3","includes","createElement","_ref4","key","_ref5","id","style","marginRight","to","fields","slug","title"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,EAASC,GAEhC,YAaA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAXvFH,EAAQI,YAAa,EACrBJ,EAAQM,MAAQC,MCRjB,IAAAC,GAAAP,EAAA,GDYKQ,EAAUP,EAAuBM,GCXtCE,EAAAT,EAAA,IDeKU,EAAeT,EAAuBQ,GCbrCE,EAAe,SAAAC,GAAc,GAAXC,GAAWD,EAAXC,IACtBC,SAAQC,IAAIF,EADqB,IAGVG,GACnBH,EADFI,kBAAqBD,MAIjBE,EAAQC,MAAMC,KAClB,GAAIC,KACFL,EAAMM,IAAI,SAAAC,GAAc,GAAXC,GAAWD,EAAXC,IACX,OAAOA,GAAKC,YAAYC,KAAKC,MAAM,KAAK,OAIxCC,EAAWV,EAAMI,IAAI,SAAAO,GACzB,OACEA,OACAb,MAAOA,EAAMc,OAAO,SAAAC,GAAA,GAAGP,GAAHO,EAAGP,IAAH,OAAcA,GAAKC,YAAYC,KAAKM,SAASH,OAIrE,OACErB,GAAAJ,QAAA6B,cAAA,WACGL,EAASN,IAAI,SAAAY,GAAA,GAAGL,GAAHK,EAAGL,KAAMb,EAATkB,EAASlB,KAAT,OACZR,GAAAJ,QAAA6B,cAAA,OAAKE,IAAKN,GACRrB,EAAAJ,QAAA6B,cAAA,UAAKJ,GACLrB,EAAAJ,QAAA6B,cAAA,UACGjB,EAAMM,IAAI,SAAAc,GAAA,GAAGZ,GAAHY,EAAGZ,IAAH,OACThB,GAAAJ,QAAA6B,cAAA,MAAIE,IAAKX,EAAKa,IACZ7B,EAAAJ,QAAA6B,cAAA,QAAMK,OAASC,YAAa,IAAMf,EAAKC,YAAYC,MACnDlB,EAAAJ,QAAA6B,cAACvB,EAAAN,SAAKoC,GAAIhB,EAAKiB,OAAOC,MAAOlB,EAAKC,YAAYkB,eDkD7D5C,GAAQK,QCxCMO,CAEFN","file":"component---src-pages-archives-js-b8c6b6474049d4fc3dd6.js","sourcesContent":["webpackJsonp([106735565224735],{\n\n/***/ 209:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\texports.__esModule = true;\n\texports.query = undefined;\n\t\n\tvar _react = __webpack_require__(2);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _gatsbyLink = __webpack_require__(25);\n\t\n\tvar _gatsbyLink2 = _interopRequireDefault(_gatsbyLink);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ArchivesPage = function ArchivesPage(_ref) {\n\t  var data = _ref.data;\n\t\n\t  console.log(data);\n\t  var edges = data.allMarkdownRemark.edges;\n\t\n\t  // 计算出年段区间\n\t\n\t  var years = Array.from(new Set(edges.map(function (_ref2) {\n\t    var node = _ref2.node;\n\t\n\t    return node.frontmatter.date.split(\"-\")[0];\n\t  })));\n\t  var nextData = years.map(function (year) {\n\t    return {\n\t      year: year,\n\t      edges: edges.filter(function (_ref3) {\n\t        var node = _ref3.node;\n\t        return node.frontmatter.date.includes(year);\n\t      })\n\t    };\n\t  });\n\t\n\t  return _react2.default.createElement(\n\t    \"div\",\n\t    null,\n\t    nextData.map(function (_ref4) {\n\t      var year = _ref4.year,\n\t          edges = _ref4.edges;\n\t      return _react2.default.createElement(\n\t        \"div\",\n\t        { key: year },\n\t        _react2.default.createElement(\n\t          \"h2\",\n\t          null,\n\t          year\n\t        ),\n\t        _react2.default.createElement(\n\t          \"ul\",\n\t          null,\n\t          edges.map(function (_ref5) {\n\t            var node = _ref5.node;\n\t            return _react2.default.createElement(\n\t              \"li\",\n\t              { key: node.id },\n\t              _react2.default.createElement(\n\t                \"span\",\n\t                { style: { marginRight: 8 } },\n\t                node.frontmatter.date\n\t              ),\n\t              _react2.default.createElement(\n\t                _gatsbyLink2.default,\n\t                { to: node.fields.slug },\n\t                node.frontmatter.title\n\t              )\n\t            );\n\t          })\n\t        )\n\t      );\n\t    })\n\t  );\n\t};\n\t\n\texports.default = ArchivesPage;\n\tvar query = exports.query = \"** extracted graphql fragment **\";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-pages-archives-js-b8c6b6474049d4fc3dd6.js","import React from \"react\";\r\nimport Link from \"gatsby-link\";\r\n\r\nconst ArchivesPage = ({ data }) => {\r\n  console.log(data)\r\n  const {\r\n    allMarkdownRemark: { edges }\r\n  } = data;\r\n\r\n  // 计算出年段区间\r\n  const years = Array.from(\r\n    new Set(\r\n      edges.map(({ node }) => {\r\n        return node.frontmatter.date.split(\"-\")[0];\r\n      })\r\n    )\r\n  );\r\n  const nextData = years.map(year => {\r\n    return {\r\n      year,\r\n      edges: edges.filter(({ node }) => node.frontmatter.date.includes(year))\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      {nextData.map(({ year, edges }) => (\r\n        <div key={year}>\r\n          <h2>{year}</h2>\r\n          <ul>\r\n            {edges.map(({ node }) => (\r\n              <li key={node.id}>\r\n                <span style={{ marginRight: 8 }}>{node.frontmatter.date}</span>\r\n                <Link to={node.fields.slug}>{node.frontmatter.title}</Link>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArchivesPage;\r\n\r\nexport const query = graphql`\r\n  query ArchivesQuery {\r\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\r\n      edges {\r\n        node {\r\n          id\r\n          frontmatter {\r\n            title\r\n            date(formatString: \"YYYY-MM-DD\")\r\n          }\r\n          fields {\r\n            slug\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/archives.js"],"sourceRoot":""}